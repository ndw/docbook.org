<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content="HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 15.3.6), see www.w3.org" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Installation</title>
<link rel="stylesheet" type="text/css" href="css/defguide.css" />
<link rel="icon" href="figs/web/publishers-icon.png" type="image/png" />
<script type="text/javascript" src="js/refentry.js">
</script>
</head>
<body>
<div class="navheader">
<table border="0" cellpadding="0" cellspacing="0" width="100%" summary="Navigation table">
<tr>
<td align="left">&#160;<a title="DocBook Publishers: The Definitive Guide" href="docbook.html"><img src="figs/web/nav/home-publishers.png" alt="Home" border="0" /></a>&#160;<a href="part3.html" title="Part&#160; III .&#160; Appendixes"><img src="figs/web/nav/prev.png" alt="Prev" border="0" /></a>&#160;<a title="Part&#160; III .&#160; Appendixes" href="part3.html"><img src="figs/web/nav/up.png" alt="Up" border="0" /></a>&#160;<a title="Resources" href="appc.html"><img src="figs/web/nav/next.png" alt="Next"
border="0" /></a></td>
<td align="right"><i>DocBook Publishers: The Definitive Guide</i> (Version <a href="ch00-online.html">1.0.0 for DocBook Publishers V1.0</a>)</td>
</tr>
</table>
</div>
<div class="appendix" id="app-install">
<div class="appendix-titlepage">
<h2>Installation</h2>
<p class="releaseinfo">$Revision$</p>
<div>
<p>$Date$</p>
</div>
</div>
<div class="section" id="s-install">
<div class="section-titlepage">
<h3>1.&#160;Installing DocBook</h3>
</div>
<p><a class="indexterm" name="idx.installingdb-1" id="idx.installingdb-1"></a><a class="indexterm" name="idx.installingdb-2" id="idx.installingdb-2"></a>If you use editing software that already supports DocBook, then DocBook should be installed with that software. Although at this writing, DocBook <span class="acronym">V5.0</span> is new, many tools already support <span class="acronym">V5.0</span>. The <a href="http://wiki.docbook.org/">DocBook Wiki</a> has a list of editing and other tools that support
DocBook, along with other relevant information and links to further information.</p>
<p>If you are not using a tool that directly supports DocBook, then you will need to install one or more of the DocBook schemas directly. This appendix describes how to do that.</p>
<p>The most recent version of the DocBook <span class="acronym">V5.x</span> schemas can be found at <tt class="uri"><a href="http://docbook.org/schemas/5x.html">http://docbook.org/schemas/5x.html</a></tt>. At the time this was written the most recent version was <span class="acronym">V5.0</span>. The directory for <span class="acronym">V5.0</span> (<tt class="uri"><a href="http://docbook.org/xml/5.0/">http://docbook.org/xml/5.0/</a></tt>) contains the RELAX NG schema, DTD, W3C XML schema, Schematron rules,
tools to convert DocBook <span class="acronym">V4.x</span> to <span class="acronym">V5.0</span>, and a sample catalog file.</p>
<div class="section" id="s-installrng">
<div class="section-titlepage">
<h4>1.1.&#160;Installing the DocBook Schemas</h4>
</div>
<p>The schemas may be installed in any convenient directory. If you download the file <tt class="filename">docbook-5.0.zip</tt> and unpack it, it will create a directory structure that puts each schema in its own directory. This directory structure matches the structure in the sample <tt class="filename">catalog.xml</tt> file, so you should be able to set up the catalog file (described in <a href="appa.html#dbcatalog" title="XML Catalogs and DocBook">Section&#160;1.2, “XML Catalogs and DocBook”</a>) with
minimal effort.</p>
<p>Once you have unpacked the schemas, you will need to set them up so that your tools can use them. While each tool has its own procedure for accessing schemas, many use <em class="citetitle"><span class="acronym">XML</span> Catalogs: OASIS Standard V1.1</em> [<a href="appc.html#XML-CAT"><span class="abbrev">XML-CAT</span></a>] as a common means to locate schemas, stylesheets, and other files. The next section describes how to set up a catalog for DocBook using the sample <tt class=
"filename">catalog.xml</tt> file from the distribution.<a class="indexterm" name="s-installrng.3.4" id="s-installrng.3.4"></a><a class="indexterm" name="s-installrng.3.5" id="s-installrng.3.5"></a></p>
</div>
<div class="section" id="dbcatalog">
<div class="section-titlepage">
<h4>1.2.&#160;XML Catalogs and DocBook</h4>
</div>
<p><a class="indexterm" name="dbcatalog.2.1" id="dbcatalog.2.1"></a> <a class="indexterm" name="dbcatalog.2.2" id="dbcatalog.2.2"></a> <a class="indexterm" name="dbcatalog.2.3" id="dbcatalog.2.3"></a>SGML instances require either a public or system identifier to specify the schema. Public identifiers are abstract identifiers that must be mapped to a schema file to be useful. For the <span class="acronym">SGML</span> versions of DocBook, the distribution included a catalog file, <tt class=
"filename">docbook.cat</tt> that provided mappings for all of the public identifiers referenced by DocBook. Unlike <span class="acronym">SGML</span>, which allows an instance to use only a public identifier, <span class="acronym">XML</span> requires a system identifier in the form of a <span class="acronym">URI</span>. For the <span class="acronym">XML</span> version of DocBook, the distribution contains a sample catalog file using the <em class="citetitle"><span class="acronym">XML</span> Catalogs: OASIS
Standard V1.1</em> [<a href="appc.html#XML-CAT"><span class="abbrev">XML-CAT</span></a>], which is used by many <span class="acronym">XML</span> tools.<a class="indexterm" name="dbcatalog.2.13" id="dbcatalog.2.13"></a></p>
<p>To quote the standard, an <span class="acronym">XML</span> catalog “<span class="quote">defines an entity catalog that maps both external identifiers and arbitrary <span class="acronym">URI</span> references to <span class="acronym">URI</span> references.</span>” This means that you can define mappings through an <span class="acronym">XML</span> catalog that tell tools where you have put the schemas (and other files, like the stylesheets) on your system. Those tools can then access them without having
to resolve a remote <span class="acronym">URL</span>.</p>
<div class="section" id="s.installingcatalog">
<div class="section-titlepage">
<h5>1.2.1.&#160;Installing and setting up the DocBook XML catalog</h5>
</div>
<p>One way to set up a catalog for DocBook is install the DocBook stylesheets (see <a href="appa.html#s.stylesheetinstall" title="Installing the DocBook Stylesheets">Section&#160;1.3, “Installing the DocBook Stylesheets”</a>), which also sets up a catalog. You can also use the sample catalog from the schema distribution, which can be found at: <tt class="uri"><a href="http://docbook.org/xml/5.0/catalog.xml">http://docbook.org/xml/5.0/catalog.xml</a></tt>. The sample is a starting place, but it will almost
surely not work “<span class="quote">out of the box.</span>” To make it work, you need to make the catalog available to your tools, and you will also need to update the catalog entries to point to the right location on your system. Here is an example based on the sample file:</p>
<div class="programlisting">
<pre>
<span class="linenumber">  1</span><span class="linenumber-separator"> </span>&lt;catalog prefer="public"
<span class="linenumber">  2</span><span class="linenumber-separator"> </span>       xml:base="file:///usr/share/xml/docbook/schema/rng/5.0/"&gt;
<span class="linenumber">   </span><span class="linenumber-separator"> </span>  &lt;public publicId="-//OASIS//DTD DocBook XML 5.0//EN"
<span class="linenumber">  4</span><span class="linenumber-separator"> </span>          uri="dtd/docbook.dtd"/&gt;
<span class="linenumber">   </span><span class="linenumber-separator"> </span>  &lt;system systemId="http://docbook.org/xml/5.0/dtd/docbook.dtd"
<span class="linenumber">  6</span><span class="linenumber-separator"> </span>          uri="dtd/docbook.dtd"/&gt;
<span class="linenumber">   </span><span class="linenumber-separator"> </span>  &lt;uri name="http://www.oasis-open.org/docbook/xml/5.0/rng/docbook.rng"
<span class="linenumber">  8</span><span class="linenumber-separator"> </span>       uri="rng/docbook.rng"/&gt;
<span class="linenumber">   </span><span class="linenumber-separator"> </span>&lt;/catalog&gt;
</pre></div>
<p>In this example, the public and system elements describe where to find the <span class="acronym">DTD</span> associated with named public and system identifiers. The uri element describes where to find the RELAX NG schema. In all three cases, the <tt class="tag-attribute">uri</tt> attribute identifies a relative path to the file. The absolute path is constructed by concatenating the value of the <tt class="tag-attribute">xml:base</tt> attribute on the catalog element to the value of the <tt class=
"tag-attribute">uri</tt> attribute. If there is no <tt class="tag-attribute">xml:base</tt> attribute, the value of the <tt class="tag-attribute">uri</tt> attribute is used as is.</p>
<p>To make the catalog work on your system, set the <tt class="tag-attribute">xml:base</tt> attribute to the directory on your system that contains the schema directories. That should be the only change you need to make to the sample catalog.</p>
<p>If you already have other <span class="acronym">XML</span> schemas installed, you probably already have a catalog file. On Linux systems, this is often in <tt class="filename">/etc/xml/catalog.xml</tt>. In that case, you can add the following line to that file, replacing <tt class="filename">/usr/share/xml/docbook/catalog.xml</tt> with the location of the DocBook catalog file on your system:</p>
<div class="programlisting">
<pre>
&lt;nextCatalog catalog="file:///usr/share/xml/docbook/catalog.xml"&gt; 
  
</pre></div>
<p><a class="indexterm" name="s.installingcatalog.8.1" id="s.installingcatalog.8.1"></a> <a class="indexterm" name="s.installingcatalog.8.2" id="s.installingcatalog.8.2"></a>Some <span class="acronym">XML</span> and <span class="acronym">XSL</span> applications use the environment variable <tt class="envar">XML_CATALOG_FILES</tt>, which contains a delimited list of catalog filenames. Here is an example:</p>
<div class="screen">
<pre>
XML_CATALOG_FILES=/usr/share/xml/docbook/catalog.xml:/etc/xml/catalog
  
</pre></div>
<p>(On a Windows system, use semicolons instead of colons to delimit the filenames.)</p>
<p>Many applications also provide a configuration option that allows you to set the location of a catalog file. Check the documentation for your tool for details.</p>
<p>This description only scratches the surface of <span class="acronym">XML</span> Catalogs. For a full description, go to the <em class="citetitle"><span class="acronym">XML</span> Catalogs: OASIS Standard V1.1</em> [<a href="appc.html#XML-CAT"><span class="abbrev">XML-CAT</span></a>] or Bob Stayton’s <em class="citetitle">DocBook XSL: The Complete Guide</em> [<a href="appc.html#Stayton07"><span class="abbrev">Stayton07</span></a>].</p>
</div>
<div class="section" id="s.getting-iso-entities">
<div class="section-titlepage">
<h5>1.2.2.&#160;Getting the ISO entity sets</h5>
</div>
<p><a class="indexterm" name="s.getting-iso-entities.2.1" id="s.getting-iso-entities.2.1"></a> <a class="indexterm" name="s.getting-iso-entities.2.2" id="s.getting-iso-entities.2.2"></a> <a class="indexterm" name="s.getting-iso-entities.2.3" id="s.getting-iso-entities.2.3"></a> <a class="indexterm" name="s.getting-iso-entities.2.4" id="s.getting-iso-entities.2.4"></a>Modern schema languages (including RELAX NG and <span class="acronym">W3X</span> <span class="acronym">XML</span> Schema) do not include the
<span class="acronym">ISO</span> Entity Sets. Therefore, you need to use other means if you want to use these or other sets of entities. For the ISO Entity Sets, some editors give you the ability to easily select needed characters and insert them into a document.</p>
<p>You can also directly include entity definitions in the prolog of your document. The World Wide Web Consortium (<span class="acronym">W3C</span>) maintains the <a href="http://www.w3.org/2003/entities/">ISO Entity Set Definitions</a> and you can reference them from the document prolog as shown here:</p>
<div class="programlisting">
<pre>
<span class="linenumber">  1</span><span class="linenumber-separator"> </span>&lt;?xml version="1.0" encoding="utf-8"?&gt;
<span class="linenumber">  2</span><span class="linenumber-separator"> </span>&lt;!DOCTYPE article [
<span class="linenumber">   </span><span class="linenumber-separator"> </span>&lt;!ENTITY % isopub SYSTEM "http://www.w3.org/2003/entities/iso8879/isopub.ent"&gt;
<span class="linenumber">  4</span><span class="linenumber-separator"> </span>%isopub;
<span class="linenumber">   </span><span class="linenumber-separator"> </span>]&gt;
<span class="linenumber">  6</span><span class="linenumber-separator"> </span>&lt;article xmlns="http://docbook.org/ns/docbook" version="5.0"&gt;
<span class="linenumber">   </span><span class="linenumber-separator"> </span>&lt;title&gt;DocBook V5.0 &amp;ndash; the superb documentation format&lt;/title&gt;
<span class="linenumber">  8</span><span class="linenumber-separator"> </span>…
<span class="linenumber">   </span><span class="linenumber-separator"> </span>&lt;/article&gt;
</pre></div>
<p>For your convenience there is also a flattened entity definition file which contains all entity definitions.</p>
<div class="programlisting">
<pre>
<span class="linenumber">  1</span><span class="linenumber-separator"> </span>&lt;?xml version="1.0" encoding="utf-8"?&gt;
<span class="linenumber">  2</span><span class="linenumber-separator"> </span>&lt;!DOCTYPE article [
<span class="linenumber">   </span><span class="linenumber-separator"> </span>&lt;!ENTITY % allent SYSTEM "http://www.w3.org/2003/entities/2007/w3centities-f.ent"&gt;
<span class="linenumber">  4</span><span class="linenumber-separator"> </span>%allent;
<span class="linenumber">   </span><span class="linenumber-separator"> </span>]&gt;
<span class="linenumber">  6</span><span class="linenumber-separator"> </span>&lt;article xmlns="http://docbook.org/ns/docbook" version="5.0"&gt;
<span class="linenumber">   </span><span class="linenumber-separator"> </span>&lt;title&gt;DocBook V5.0 &amp;ndash; the superb documentation format&lt;/title&gt;
<span class="linenumber">  8</span><span class="linenumber-separator"> </span>…
<span class="linenumber">   </span><span class="linenumber-separator"> </span>&lt;/article&gt;
</pre></div>
</div>
</div>
<div class="section" id="s.stylesheetinstall">
<div class="section-titlepage">
<h4>1.3.&#160;Installing the DocBook Stylesheets</h4>
</div>
<p><a class="indexterm" name="s.stylesheetinstall.2.1" id="s.stylesheetinstall.2.1"></a>Members of the <span class="acronym">OASIS</span> DocBook Technical Committee and other interested people have developed a set of XSL stylesheets that can be used to transform DocBook into various forms, including: HTML, FO (for print), HTML Help, Java Help, ePub, and other formats.</p>
<p>The definitive guide to using the stylesheets is Bob Stayton’s <em class="citetitle">DocBook XSL: The Complete Guide</em> [<a href="appc.html#Stayton07"><span class="abbrev">Stayton07</span></a>]. The description below is sufficient to install and run the stylesheets in their standard form. However, to do any serious work with the stylesheets or to customize them, you should read Stayton’s book.</p>
<div class="procedure-wrapper">
<h3>Procedure for Installing DocBook XSL Stylesheets</h3>
<div class="procedure">
<ol type="1">
<li>
<div class="step">
<p>Download the latest stylesheets from <tt class="uri"><a href="http://sourceforge.net/projects/docbook/">http://sourceforge.net/projects/docbook/</a></tt>. Look for a file with the name: docbook-xsl-ns-<em class="replaceable"><tt class="replaceable">X.YY.Z</tt></em>.zip, where <em class="replaceable"><tt class="replaceable">X.YY.Z</tt></em> is the version number of the latest stable release of the stylesheets.</p>
</div>
</li>
<li>
<div class="step">
<p>Unpack the distribution into a directory on your system. The exact location is your choice. On Windows systems you might use a folder named: <tt class="filename">C:\docbook\stylesheets</tt>. On a Linux/UNIX-based system you might use a directory named <tt class="filename">/usr/share/xml/docbook/stylesheets</tt>, or a directory under your home directory. As long as you have permissions to create and write in the directory, it doesn’t matter where it is.</p>
</div>
</li>
<li>
<div class="step">
<p>When you unpack the distribution, it will create a directory named <tt class="filename">docbook-xsl-ns-<em class="replaceable"><tt class="replaceable">X.YY.Z</tt></em></tt> that will contain the stylesheets.</p>
</div>
</li>
<li>
<div class="step">
<p>This is all you need to do to install the distribution, however, on Linux/UNIX systems, you can run an install script that will set up catalogs for you. Look for a file named <tt class="filename">INSTALL</tt> for details.</p>
</div>
</li>
</ol>
</div>
</div>
<p>You will also need an <span class="acronym">XSLT</span> processor. If you are running Linux, you may already have <span class="application">xsltproc</span> or <span class="application">Saxon</span> installed on your system. If not, most Linux distributions will let you install one of these packages through their application installer.</p>
<p>If you are running Windows or Mac, you can find information about these applications at:</p>
<div class="itemizedlist">
<ul>
<li>
<p><span class="application">xsltproc</span>: <tt class="uri"><a href="http://xmlsoft.org/XSLT/xsltproc2.html">http://xmlsoft.org/XSLT/xsltproc2.html</a></tt></p>
</li>
<li>
<p><span class="application">Saxon</span>: <tt class="uri"><a href="http://saxon.sourceforge.net/">http://saxon.sourceforge.net/</a></tt></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="navfooter">
<table width="100%" summary="Navigation table">
<tr>
<td width="40%" align="left"><a title="Part&#160; III .&#160; Appendixes" href="part3.html"><img src="figs/web/nav/prev.png" alt="Prev" border="0" /></a>&#160;</td>
<td width="20%" align="center"><a title="DocBook Publishers: The Definitive Guide" href="docbook.html"><img src="figs/web/nav/home-publishers.png" alt="Home" border="0" /></a></td>
<td width="40%" align="right">&#160;<a title="Resources" href="appc.html"><img src="figs/web/nav/next.png" alt="Next" border="0" /></a></td>
</tr>
<tr>
<td width="40%" align="left">Part&#160; III .&#160; Appendixes&#160;</td>
<td width="20%" align="center"><a title="Part&#160; III .&#160; Appendixes" href="part3.html"><img src="figs/web/nav/up.png" alt="Up" border="0" /></a></td>
<td width="40%" align="right">&#160;Resources</td>
</tr>
</table>
</div>
<div class="copyrightfooter">
<p><a href="dbcpyright.html">Copyright</a> © 2011 Norman Walsh.</p>
</div>
</body>
</html>
